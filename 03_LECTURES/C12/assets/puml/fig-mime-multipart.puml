@startuml
title MIME email structure (multipart with attachment)

skinparam shadowing false
skinparam defaultTextAlignment left

class "RFC 5322 Message" as Msg {
  +Headers
  +Body
}

class "Headers" as H {
  From
  To
  Subject
  Date
  MIME-Version
  Content-Type
}

class "Body: multipart/mixed" as MP {
  boundary="----abc"
}

class "Part 1: text/plain" as P1
class "Part 2: attachment" as P2 {
  Content-Type: image/jpeg
  Content-Transfer-Encoding: base64
  Content-Disposition: attachment; filename="cat.jpg"
}

Msg *-- H
Msg *-- MP
MP *-- P1
MP *-- P2

note bottom of MP
Wire format (sketch):
--boundary
headers for part 1

text...
--boundary
headers for part 2

base64...
--boundary--
end note

@enduml
