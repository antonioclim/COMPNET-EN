@startuml

skinparam backgroundColor white
skinparam shadowing false
skinparam roundcorner 12
skinparam defaultFontName Arial
skinparam defaultFontSize 14

title DNS: typical resolution (client -> recursive -> authoritative)

actor "Application / OS\n(stub resolver)" as C
node "Recursive resolver\n(ISP / enterprise / public)" as R
node "Root" as ROOT
node "TLD (.com, .ro)" as TLD
node "Authoritative\n(example.com)" as AUTH

C -> R : Query A/AAAA www.example.com
R -> ROOT : Where is .com?
ROOT --> R : NS for .com
R -> TLD : Where is example.com?
TLD --> R : NS for example.com
R -> AUTH : A/AAAA www.example.com?
AUTH --> R : Answer + TTL
R --> C : Answer (cached by TTL)

@enduml
