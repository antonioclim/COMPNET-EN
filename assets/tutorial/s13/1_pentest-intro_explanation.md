#### Seminar 13 – Stage 1

## Introducere: Pen-testing în mediu controlat + infrastructură de laborator

### 1. Scopul seminarului

În acest seminar vom lucra practic pe un **mediu controlat** care conține:

* aplicații web vulnerabile
* un server FTP vulnerabil
* o rețea „mică” pe care o vom scana și ataca

Vom urmări fluxul clasic de pen-testing:

1. Reconnaissance / **investigare inițială**
2. **Scanare de porturi** și identificare servicii
3. **Identificarea vulnerabilităților**
4. **Exploatare controlată** a unor vulnerabilități simple

Toate acestea se vor desfășura într-o infrastructură locală Docker, NU pe internet, NU pe sisteme reale ale altor organizații.

---

### 2. Avertisment legal și etic

Este **strict interzis** să rulați tehnicile și tool-urile din acest laborator:

* pe rețeaua universității (în afara acestui mediu)
* pe rețele sau servere care nu vă aparțin
* pe sisteme din internet fără consimțământ explicit

Scopul laboratorului este să:

* înțelegeți cum gândesc atacatorii
* învățați să recunoașteți și să preveniți vulnerabilitățile

Nu să deveniți „black-hat”.

---

### 3. Infrastructura de laborator (overview)

Vom folosi un fișier `docker-compose.pentest.yml` care pornește:

1. **DVWA** (Damn Vulnerable Web App)

   * aplicație web PHP vulnerabilă (SQLi, XSS, brute force etc.)
   * expusă pe portul `8888`

2. **WebGoat**

   * aplicație web Java (OWASP) cu vulnerabilități pedagogice
   * expusă pe portul `8080`

3. **vsftpd 2.3.4 vulnerabil**

   * server FTP cu un backdoor celebru
   * expus pe portul `2121`

Toate serviciile sunt în aceeași rețea Docker:

* subnet: `172.20.0.0/24`
* adrese:

  * DVWA: `172.20.0.10`
  * WebGoat: `172.20.0.11`
  * vsftpd: `172.20.0.12`

---

### 4. Tool-uri folosite

Pe mașina host (sau într-un container „kali” separat) veți folosi:

* `nmap` – scanare porturi, detectare servicii
* `curl` – testare HTTP rapidă
* `nc` (`netcat`) – conexiuni brute TCP/UDP
* eventual:

  * `nikto` – scanare vulnerabilități web
  * `wireshark` sau `tcpdump` – analiză trafic (opțional)

Mai târziu în seminar:

* vom scrie:

  * un scanner de porturi simplu în Python
  * un mic exploit script pentru FTP backdoor

---

### 5. Ce facem în Stage 1

În această primă etapă:

* pornim infrastructura Docker
* verificăm că serviciile rulează
* ne conectăm la fiecare serviciu în parte (HTTP/FTP) pentru a confirma că totul funcționează
* pregătim terenul pentru etapa de scanare (nmap + scanner Python)

---

### 6. Ce urmează

În Stage 2:

* vom folosi `nmap` pentru a scana rețeaua 172.20.0.0/24
* vom scrie un mic script `simple_scanner.py` care verifică porturi deschise pentru o singură adresă IP
* vom documenta porturile și serviciile descoperite

Notă:

* imaginile `vulnerables/web-dvwa`, `webgoat/webgoat-8.0`, `vulnerables/vsftpd:2.3.4` sunt foarte folosite în laboratoare; dacă e nevoie pot fi ajustate.
* porturile sunt mapate și pe host pentru acces direct cu browserul:

  * DVWA: `http://localhost:8888/`
  * WebGoat: `http://localhost:8080/`
  * vsftpd: `ftp 127.0.0.1 2121` sau `nc 127.0.0.1 2121`